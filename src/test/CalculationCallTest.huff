#include "../Multicaller.huff"


//#[calldata("0x00000000000000000000000000000000000000000000000000000000000000207FFB0000000000000000000000000000000000000000000000000000000000000123021100")]
#[calldata("0x00000000000000000000000000000000000000000000000000000000000000257ffbfffffffffffffffe000500000000000000000000000000000000000000FF01021100")]
#define test CALCULATION_CALL_TEST1() = {

  0x222

  0x1111
  PUSH_STACK()
  0x2222
  PUSH_STACK()

  0x0 calldataload
  dup1
  dup1 0x20 add 
  0x0
  0x100
  calldatacopy

  0x120
  dup1
  0x20 calldataload
  //[prefix, offset, offset, len]

  DO_CALCULATION_CALL()

  error:

}


#[calldata("0x00000000000000000000000000000000000000000000000000000000000000857ffbfffffffffffffffe00225615deb798bb3e4dfa0139dfa1b3d433cc23b711210000000000000000000000005615deb798bb3e4dfa0139dfa1b3d43300000000017ffbfffffffffffffffe00235615deb798bb3e4dfa0139dfa1b3d433cc23b700220000000000000000000000006615deb798bb3e4dfa0139dfa1b3d4440000000000")]
#define test CALCULATION_CALL_TEST2() = {

  0x1111
  0x2222

  0x0 calldataload
  dup1
  dup1 0x20 add 
  0x0
  0x100
  calldatacopy

  0x120 add

  0x120
  dup1
  0x120 mload
  DO_CALCULATION_CALL()
  add
  dup1
  dup1 mload
  DO_CALCULATION_CALL2()
  add
  0x20 mload 
  0x0000000000000000000000005615deb798bb3e4dfa0139dfa1b3d43300000000 eq ok1 jumpi
  0xE0 0x0 mstore 0x20 0x0 revert
  ok1:

  0x40 mload 
  0x0000000000000000000000006615deb798bb3e4dfa0139dfa1b3d44400000000 eq ok2 jumpi
  0xe1 0x0 mstore 0x20 0x0 revert
  ok2:


  error:

}
